require 'date'
require 'httparty'
require 'nokogiri'
# references:
# https://www.cryptocompare.com/api/#-api-data-price-

# response = HTTParty.get("https://min-api.cryptocompare.com/data/histohour?fsym=ETH&tsym=USD&limit=60&aggregate=3&e=Kraken")


# API returns the prices for every three days
# response["Data"].each do |x|
# 	puts getDateFromUnixDate(x["time"].to_s)
# end
#
# puts response["Data"]


response = {"Response"=>"Success", "Type"=>100, "Aggregated"=>false, "Data"=>[{"time"=>1506456000, "high"=>3910.833007430583, "low"=>3924.6467817896387, "open"=>3921.5686274509803, "volumefrom"=>8643951.78, "volumeto"=>2206.19, "close"=>3921.5686274509803}, {"time"=>1506459600, "high"=>3921.5686274509803, "low"=>3935.4584809130265, "open"=>3921.5686274509803, "volumefrom"=>5875220.57, "volumeto"=>1494.46, "close"=>3927.729772191673}, {"time"=>1506463200, "high"=>3892.565200467108, "low"=>3927.729772191673, "open"=>3927.729772191673, "volumefrom"=>8296824.88, "volumeto"=>2123.1, "close"=>3895.597974289053}, {"time"=>1506466800, "high"=>3885.0038850038845, "low"=>3906.25, "open"=>3895.597974289053, "volumefrom"=>6696110.54, "volumeto"=>1719.4, "close"=>3892.565200467108}, {"time"=>1506470400, "high"=>3881.987577639752, "low"=>3916.960438699569, "open"=>3892.565200467108, "volumefrom"=>6640067.55, "volumeto"=>1696.64, "close"=>3915.426781519186}, {"time"=>1506474000, "high"=>3907.77647518562, "low"=>3926.1876717707105, "open"=>3915.426781519186, "volumefrom"=>4918883.49, "volumeto"=>1252.99, "close"=>3907.77647518562}, {"time"=>1506477600, "high"=>3900.1560062402496, "low"=>3918.495297805642, "open"=>3907.77647518562, "volumefrom"=>6242719.07, "volumeto"=>1594.86, "close"=>3916.960438699569}, {"time"=>1506481200, "high"=>3915.426781519186, "low"=>3961.9651347068143, "open"=>3916.960438699569, "volumefrom"=>22807225.58, "volumeto"=>5778.7, "close"=>3951.0075069142626}, {"time"=>1506484800, "high"=>3943.2176656151423, "low"=>3957.2615749901065, "open"=>3951.0075069142626, "volumefrom"=>11089273.51, "volumeto"=>2806.55, "close"=>3944.7731755424065}, {"time"=>1506488400, "high"=>3937.0078740157483, "low"=>3957.2615749901065, "open"=>3944.7731755424065, "volumefrom"=>9582927.32, "volumeto"=>2425.29, "close"=>3954.132068011071}, {"time"=>1506492000, "high"=>3940.1103230890467, "low"=>3965.107057890563, "open"=>3954.132068011071, "volumefrom"=>12493929.92, "volumeto"=>3159.37, "close"=>3949.4470774091633}, {"time"=>1506495600, "high"=>3944.7731755424065, "low"=>3957.2615749901065, "open"=>3949.4470774091633, "volumefrom"=>8043859.92, "volumeto"=>2033.54, "close"=>3951.0075069142626}, {"time"=>1506499200, "high"=>3938.558487593541, "low"=>3954.132068011071, "open"=>3951.0075069142626, "volumefrom"=>6787947.8, "volumeto"=>1717.16, "close"=>3949.4470774091633}, {"time"=>1506502800, "high"=>3946.329913180742, "low"=>3969.8292973402145, "open"=>3949.4470774091633, "volumefrom"=>10528771.62, "volumeto"=>2657.32, "close"=>3969.8292973402145}, {"time"=>1506506400, "high"=>3966.679888932963, "low"=>4079.967360261118, "open"=>3969.8292973402145, "volumefrom"=>61562535.53, "volumeto"=>15254.65, "close"=>4076.640847941296}, {"time"=>1506510000, "high"=>4068.348250610252, "low"=>4106.776180698152, "open"=>4076.640847941296, "volumefrom"=>38002564.36, "volumeto"=>9293.93, "close"=>4091.653027823241}, {"time"=>1506513600, "high"=>4083.299305839118, "low"=>4105.0903119868635, "open"=>4091.653027823241, "volumefrom"=>17366466.26, "volumeto"=>4239.78, "close"=>4088.3074407195422}, {"time"=>1506517200, "high"=>4046.944556859571, "low"=>4089.97955010225, "open"=>4088.3074407195422, "volumefrom"=>23800014.91, "volumeto"=>5857.02, "close"=>4065.0406504065036}, {"time"=>1506520800, "high"=>4061.7384240454912, "low"=>4110.152075626798, "open"=>4065.0406504065036, "volumefrom"=>29776996.7, "volumeto"=>7266.41, "close"=>4106.776180698152}, {"time"=>1506524400, "high"=>4074.9796251018743, "low"=>4108.463434675431, "open"=>4106.776180698152, "volumefrom"=>20400907.14, "volumeto"=>4978.65, "close"=>4086.6366979975483}, {"time"=>1506528000, "high"=>4086.6366979975483, "low"=>4098.360655737705, "open"=>4086.6366979975483, "volumefrom"=>8119408.54, "volumeto"=>1984.11, "close"=>4095.004095004095}, {"time"=>1506531600, "high"=>4091.653027823241, "low"=>4103.405826836274, "open"=>4095.004095004095, "volumefrom"=>9028724.67, "volumeto"=>2200.76, "close"=>4103.405826836274}, {"time"=>1506535200, "high"=>4100.041000410004, "low"=>4196.391103650861, "open"=>4103.405826836274, "volumefrom"=>61731728.75, "volumeto"=>14843.5, "close"=>4185.851820845542}, {"time"=>1506538800, "high"=>4170.141784820684, "low"=>4199.916001679967, "open"=>4185.851820845542, "volumefrom"=>20035091.88, "volumeto"=>4782.66, "close"=>4192.8721174004195}, {"time"=>1506542400, "high"=>4168.403501458941, "low"=>4194.6308724832215, "open"=>4192.8721174004195, "volumefrom"=>17877602.62, "volumeto"=>4273.32, "close"=>4168.403501458941}, {"time"=>1506546000, "high"=>4156.275976724854, "low"=>4210.526315789473, "open"=>4168.403501458941, "volumefrom"=>25552203.98, "volumeto"=>6101.48, "close"=>4210.526315789473}, {"time"=>1506549600, "high"=>4185.851820845542, "low"=>4215.851602023609, "open"=>4210.526315789473, "volumefrom"=>28284004.85, "volumeto"=>6729.72, "close"=>4201.680672268907}, {"time"=>1506553200, "high"=>4201.680672268907, "low"=>4231.908590774439, "open"=>4201.680672268907, "volumefrom"=>19712076.76, "volumeto"=>4673.94, "close"=>4212.299915754002}, {"time"=>1506556800, "high"=>4173.622704507513, "low"=>4217.629692113032, "open"=>4212.299915754002, "volumefrom"=>13584899.66, "volumeto"=>3239.54, "close"=>4180.602006688963}, {"time"=>1506560400, "high"=>4166.666666666667, "low"=>4194.6308724832215, "open"=>4180.602006688963, "volumefrom"=>15697685.65, "volumeto"=>3744.76, "close"=>4182.350480970305}, {"time"=>1506564000, "high"=>4132.231404958678, "low"=>4185.851820845542, "open"=>4182.350480970305, "volumefrom"=>17579523.21, "volumeto"=>4246.63, "close"=>4175.365344467641}, {"time"=>1506567600, "high"=>4113.533525298231, "low"=>4210.526315789473, "open"=>4175.365344467641, "volumefrom"=>19604931.95, "volumeto"=>4736.02, "close"=>4206.983592763988}, {"time"=>1506571200, "high"=>4203.446826397646, "low"=>4260.758414997869, "open"=>4206.983592763988, "volumefrom"=>30673509.31, "volumeto"=>7245.08, "close"=>4255.319148936171}, {"time"=>1506574800, "high"=>4237.28813559322, "low"=>4264.392324093817, "open"=>4255.319148936171, "volumefrom"=>16082947.38, "volumeto"=>3782.04, "close"=>4240.882103477523}, {"time"=>1506578400, "high"=>4231.908590774439, "low"=>4253.509145044662, "open"=>4240.882103477523, "volumefrom"=>9927984.32, "volumeto"=>2336.73, "close"=>4246.284501061571}, {"time"=>1506582000, "high"=>4222.9729729729725, "low"=>4248.088360237893, "open"=>4246.284501061571, "volumefrom"=>12927002.58, "volumeto"=>3053.29, "close"=>4233.7002540220155}, {"time"=>1506585600, "high"=>4233.7002540220155, "low"=>4275.331338178709, "open"=>4233.7002540220155, "volumefrom"=>18624864.76, "volumeto"=>4369.45, "close"=>4268.032437046521}, {"time"=>1506589200, "high"=>4251.700680272109, "low"=>4271.678769756514, "open"=>4268.032437046521, "volumefrom"=>16477766.05, "volumeto"=>3863.3, "close"=>4264.392324093817}, {"time"=>1506592800, "high"=>4168.403501458941, "low"=>4264.392324093817, "open"=>4264.392324093817, "volumefrom"=>29002667.43, "volumeto"=>6895.4, "close"=>4175.365344467641}, {"time"=>1506596400, "high"=>4171.881518564873, "low"=>4208.754208754209, "open"=>4175.365344467641, "volumefrom"=>18666595.03, "volumeto"=>4457.76, "close"=>4199.916001679967}, {"time"=>1506600000, "high"=>4178.8549937317175, "low"=>4219.409282700422, "open"=>4199.916001679967, "volumefrom"=>10429380.98, "volumeto"=>2482.92, "close"=>4214.075010535187}, {"time"=>1506603600, "high"=>4192.8721174004195, "low"=>4217.629692113032, "open"=>4214.075010535187, "volumefrom"=>14929808.08, "volumeto"=>3551.07, "close"=>4194.6308724832215}, {"time"=>1506607200, "high"=>4139.07284768212, "low"=>4194.6308724832215, "open"=>4194.6308724832215, "volumefrom"=>35766422.95, "volumeto"=>8614.8, "close"=>4145.936981757877}, {"time"=>1506610800, "high"=>4128.819157720892, "low"=>4154.549231408392, "open"=>4145.936981757877, "volumefrom"=>19707610.94, "volumeto"=>4761.04, "close"=>4147.65657403567}, {"time"=>1506614400, "high"=>4144.218814753419, "low"=>4173.622704507513, "open"=>4147.65657403567, "volumefrom"=>11547117.42, "volumeto"=>2772.14, "close"=>4163.197335553705}, {"time"=>1506618000, "high"=>4163.197335553705, "low"=>4215.851602023609, "open"=>4163.197335553705, "volumefrom"=>18188846.03, "volumeto"=>4330.22, "close"=>4187.604690117253}, {"time"=>1506621600, "high"=>4158.004158004158, "low"=>4189.359028068706, "open"=>4187.604690117253, "volumefrom"=>10287564.23, "volumeto"=>2460.84, "close"=>4159.73377703827}, {"time"=>1506625200, "high"=>4144.218814753419, "low"=>4166.666666666667, "open"=>4159.73377703827, "volumefrom"=>10209540.6, "volumeto"=>2452.38, "close"=>4154.549231408392}, {"time"=>1506628800, "high"=>4147.65657403567, "low"=>4177.109440267335, "open"=>4154.549231408392, "volumefrom"=>11672018.38, "volumeto"=>2801.25, "close"=>4175.365344467641}, {"time"=>1506632400, "high"=>4173.622704507513, "low"=>4208.754208754209, "open"=>4175.365344467641, "volumefrom"=>11263973.59, "volumeto"=>2683.83, "close"=>4199.916001679967}, {"time"=>1506636000, "high"=>4184.100418410042, "low"=>4210.526315789473, "open"=>4199.916001679967, "volumefrom"=>7672744.58, "volumeto"=>1825.44, "close"=>4185.851820845542}, {"time"=>1506639600, "high"=>4178.8549937317175, "low"=>4205.214465937763, "open"=>4185.851820845542, "volumefrom"=>6388192.28, "volumeto"=>1523.01, "close"=>4196.391103650861}, {"time"=>1506643200, "high"=>4194.6308724832215, "low"=>4208.754208754209, "open"=>4196.391103650861, "volumefrom"=>4793918.14, "volumeto"=>1139.26, "close"=>4199.916001679967}, {"time"=>1506646800, "high"=>4156.275976724854, "low"=>4206.983592763988, "open"=>4199.916001679967, "volumefrom"=>11380444.25, "volumeto"=>2720.86, "close"=>4158.004158004158}, {"time"=>1506650400, "high"=>4071.661237785016, "low"=>4161.464835622139, "open"=>4158.004158004158, "volumefrom"=>46245349.39, "volumeto"=>11282.54, "close"=>4073.3197556008145}, {"time"=>1506654000, "high"=>4032.258064516129, "low"=>4113.533525298231, "open"=>4073.3197556008145, "volumefrom"=>43056809.59, "volumeto"=>10594.98, "close"=>4068.348250610252}, {"time"=>1506657600, "high"=>4066.6937779585196, "low"=>4111.8421052631575, "open"=>4068.348250610252, "volumefrom"=>27915925.72, "volumeto"=>6825.44, "close"=>4089.97955010225}, {"time"=>1506661200, "high"=>4030.632809351068, "low"=>4091.653027823241, "open"=>4089.97955010225, "volumefrom"=>23972104.49, "volumeto"=>5915.3, "close"=>4037.141703673799}, {"time"=>1506664800, "high"=>4035.5125100887813, "low"=>4061.7384240454912, "open"=>4037.141703673799, "volumefrom"=>15129311.33, "volumeto"=>3733.74, "close"=>4060.089321965083}, {"time"=>1506668400, "high"=>4060.089321965083, "low"=>4118.616144975288, "open"=>4060.089321965083, "volumefrom"=>21683204.9, "volumeto"=>5296.63, "close"=>4103.405826836274}, {"time"=>1506672000, "high"=>4086.6366979975483, "low"=>4135.6492969396195, "open"=>4103.405826836274, "volumefrom"=>17726282.44, "volumeto"=>4300.18, "close"=>4122.011541632317}, {"time"=>1506675600, "high"=>4098.360655737705, "low"=>4123.711340206185, "open"=>4122.011541632317, "volumefrom"=>8703510.73, "volumeto"=>2113.69, "close"=>4110.152075626798}, {"time"=>1506679200, "high"=>4100.041000410004, "low"=>4164.931278633902, "open"=>4110.152075626798, "volumefrom"=>14208088.75, "volumeto"=>3433.38, "close"=>4163.197335553705}, {"time"=>1506682800, "high"=>4152.8239202657805, "low"=>4219.409282700422, "open"=>4163.197335553705, "volumefrom"=>25434974.21, "volumeto"=>6071.12, "close"=>4208.754208754209}, {"time"=>1506686400, "high"=>4192.8721174004195, "low"=>4237.28813559322, "open"=>4208.754208754209, "volumefrom"=>23758405.85, "volumeto"=>5638.13, "close"=>4230.118443316413}, {"time"=>1506690000, "high"=>4177.109440267335, "low"=>4230.118443316413, "open"=>4230.118443316413, "volumefrom"=>17250915.82, "volumeto"=>4109.71, "close"=>4189.359028068706}, {"time"=>1506693600, "high"=>4180.602006688963, "low"=>4210.526315789473, "open"=>4189.359028068706, "volumefrom"=>11739491.83, "volumeto"=>2796.54, "close"=>4187.604690117253}, {"time"=>1506697200, "high"=>4185.851820845542, "low"=>4205.214465937763, "open"=>4187.604690117253, "volumefrom"=>7646876.49, "volumeto"=>1820.32, "close"=>4198.152812762385}, {"time"=>1506700800, "high"=>4196.391103650861, "low"=>4233.7002540220155, "open"=>4198.152812762385, "volumefrom"=>18755217.94, "volumeto"=>4440.57, "close"=>4217.629692113032}, {"time"=>1506704400, "high"=>4156.275976724854, "low"=>4222.9729729729725, "open"=>4217.629692113032, "volumefrom"=>17959394.75, "volumeto"=>4288.32, "close"=>4180.602006688963}, {"time"=>1506708000, "high"=>4171.881518564873, "low"=>4189.359028068706, "open"=>4180.602006688963, "volumefrom"=>9546393.46, "volumeto"=>2283.42, "close"=>4177.109440267335}, {"time"=>1506711600, "high"=>4175.365344467641, "low"=>4191.1148365465215, "open"=>4177.109440267335, "volumefrom"=>6550334.03, "volumeto"=>1563.42, "close"=>4177.109440267335}, {"time"=>1506715200, "high"=>4173.622704507513, "low"=>4206.983592763988, "open"=>4177.109440267335, "volumefrom"=>11741347.5, "volumeto"=>2797.6, "close"=>4185.851820845542}, {"time"=>1506718800, "high"=>4185.851820845542, "low"=>4199.916001679967, "open"=>4185.851820845542, "volumefrom"=>4284076.01, "volumeto"=>1017.03, "close"=>4191.1148365465215}, {"time"=>1506722400, "high"=>4159.73377703827, "low"=>4198.152812762385, "open"=>4191.1148365465215, "volumefrom"=>7330686.31, "volumeto"=>1752.56, "close"=>4168.403501458941}, {"time"=>1506726000, "high"=>4147.65657403567, "low"=>4173.622704507513, "open"=>4168.403501458941, "volumefrom"=>7795062.6, "volumeto"=>1870.9, "close"=>4173.622704507513}, {"time"=>1506729600, "high"=>4164.931278633902, "low"=>4191.1148365465215, "open"=>4173.622704507513, "volumefrom"=>4943872.27, "volumeto"=>1179.12, "close"=>4189.359028068706}, {"time"=>1506733200, "high"=>4189.359028068706, "low"=>4246.284501061571, "open"=>4189.359028068706, "volumefrom"=>18070520.33, "volumeto"=>4274.34, "close"=>4231.908590774439}, {"time"=>1506736800, "high"=>4219.409282700422, "low"=>4235.493434985176, "open"=>4231.908590774439, "volumefrom"=>6895067.15, "volumeto"=>1629.09, "close"=>4231.908590774439}, {"time"=>1506740400, "high"=>4206.983592763988, "low"=>4231.908590774439, "open"=>4231.908590774439, "volumefrom"=>5967363.37, "volumeto"=>1414.28, "close"=>4210.526315789473}, {"time"=>1506744000, "high"=>4208.754208754209, "low"=>4222.9729729729725, "open"=>4210.526315789473, "volumefrom"=>5005112.74, "volumeto"=>1186.67, "close"=>4219.409282700422}, {"time"=>1506747600, "high"=>4217.629692113032, "low"=>4244.4821731748725, "open"=>4219.409282700422, "volumefrom"=>8669590.59, "volumeto"=>2044.12, "close"=>4244.4821731748725}, {"time"=>1506751200, "high"=>4244.4821731748725, "low"=>4286.326618088298, "open"=>4244.4821731748725, "volumefrom"=>25274026.76, "volumeto"=>5913.22, "close"=>4286.326618088298}, {"time"=>1506754800, "high"=>4268.032437046521, "low"=>4312.203536006899, "open"=>4286.326618088298, "volumefrom"=>16041463.12, "volumeto"=>3736.73, "close"=>4312.203536006899}, {"time"=>1506758400, "high"=>4280.821917808219, "low"=>4312.203536006899, "open"=>4312.203536006899, "volumefrom"=>11805299.61, "volumeto"=>2743.16, "close"=>4290.00429000429}, {"time"=>1506762000, "high"=>4269.854824935952, "low"=>4291.845493562232, "open"=>4290.00429000429, "volumefrom"=>7944862.49, "volumeto"=>1854.9, "close"=>4282.655246252676}, {"time"=>1506765600, "high"=>4282.655246252676, "low"=>4323.389537397319, "open"=>4282.655246252676, "volumefrom"=>14394698.69, "volumeto"=>3340.62, "close"=>4312.203536006899}, {"time"=>1506769200, "high"=>4295.53264604811, "low"=>4321.52117545376, "open"=>4312.203536006899, "volumefrom"=>9891872.19, "volumeto"=>2291.77, "close"=>4295.53264604811}, {"time"=>1506772800, "high"=>4288.164665523156, "low"=>4310.3448275862065, "open"=>4295.53264604811, "volumefrom"=>7143805.84, "volumeto"=>1659.64, "close"=>4304.778303917348}, {"time"=>1506776400, "high"=>4299.226139294927, "low"=>4317.789291882556, "open"=>4304.778303917348, "volumefrom"=>8471630.87, "volumeto"=>1965.97, "close"=>4304.778303917348}, {"time"=>1506780000, "high"=>4301.075268817204, "low"=>4327.131112072696, "open"=>4304.778303917348, "volumefrom"=>12896668.54, "volumeto"=>2986.07, "close"=>4327.131112072696}, {"time"=>1506783600, "high"=>4325.259515570934, "low"=>4357.298474945534, "open"=>4327.131112072696, "volumefrom"=>20999319.62, "volumeto"=>4832.13, "close"=>4349.717268377555}, {"time"=>1506787200, "high"=>4308.487720809996, "low"=>4366.812227074236, "open"=>4349.717268377555, "volumefrom"=>25882642.14, "volumeto"=>5961.71, "close"=>4327.131112072696}, {"time"=>1506790800, "high"=>4314.063848144952, "low"=>4332.7556325823225, "open"=>4327.131112072696, "volumefrom"=>10494633.87, "volumeto"=>2424.99, "close"=>4329.004329004329}, {"time"=>1506794400, "high"=>4327.131112072696, "low"=>4366.812227074236, "open"=>4329.004329004329, "volumefrom"=>16214988.98, "volumeto"=>3724.62, "close"=>4351.610095735422}, {"time"=>1506798000, "high"=>4336.513443191674, "low"=>4355.4006968641115, "open"=>4351.610095735422, "volumefrom"=>7552149.88, "volumeto"=>1738.55, "close"=>4349.717268377555}, {"time"=>1506801600, "high"=>4349.717268377555, "low"=>4384.042086804034, "open"=>4349.717268377555, "volumefrom"=>20806760.76, "volumeto"=>4754.16, "close"=>4359.197907585005}, {"time"=>1506805200, "high"=>4336.513443191674, "low"=>4366.812227074236, "open"=>4359.197907585005, "volumefrom"=>12618750.71, "volumeto"=>2896.92, "close"=>4336.513443191674}, {"time"=>1506808800, "high"=>4336.513443191674, "low"=>4361.098996947231, "open"=>4336.513443191674, "volumefrom"=>7664726.43, "volumeto"=>1760.07, "close"=>4357.298474945534}, {"time"=>1506812400, "high"=>4347.826086956522, "low"=>4361.098996947231, "open"=>4357.298474945534, "volumefrom"=>5153435.28, "volumeto"=>1182.14, "close"=>4361.098996947231}, {"time"=>1506816000, "high"=>4359.197907585005, "low"=>4384.042086804034, "open"=>4361.098996947231, "volumefrom"=>12622979, "volumeto"=>2884.23, "close"=>4364.906154517677}, {"time"=>1506819600, "high"=>4327.131112072696, "low"=>4366.812227074236, "open"=>4364.906154517677, "volumefrom"=>16672251.04, "volumeto"=>3839.61, "close"=>4349.717268377555}, {"time"=>1506823200, "high"=>4293.688278231, "low"=>4351.610095735422, "open"=>4349.717268377555, "volumefrom"=>19128731.57, "volumeto"=>4436.6, "close"=>4295.53264604811}, {"time"=>1506826800, "high"=>4286.326618088298, "low"=>4315.9257660768235, "open"=>4295.53264604811, "volumefrom"=>9434404.49, "volumeto"=>2191.74, "close"=>4312.203536006899}, {"time"=>1506830400, "high"=>4301.075268817204, "low"=>4325.259515570934, "open"=>4312.203536006899, "volumefrom"=>6315228.02, "volumeto"=>1462.73, "close"=>4304.778303917348}, {"time"=>1506834000, "high"=>4293.688278231, "low"=>4323.389537397319, "open"=>4304.778303917348, "volumefrom"=>8552386.85, "volumeto"=>1983.26, "close"=>4317.789291882556}, {"time"=>1506837600, "high"=>4314.063848144952, "low"=>4334.633723450368, "open"=>4317.789291882556, "volumefrom"=>6500700.61, "volumeto"=>1501.66, "close"=>4323.389537397319}, {"time"=>1506841200, "high"=>4323.389537397319, "low"=>4340.277777777778, "open"=>4323.389537397319, "volumefrom"=>5080711.81, "volumeto"=>1171.24, "close"=>4336.513443191674}, {"time"=>1506844800, "high"=>4306.6322136089575, "low"=>4336.513443191674, "open"=>4336.513443191674, "volumefrom"=>8767257.25, "volumeto"=>2029.09, "close"=>4314.063848144952}, {"time"=>1506848400, "high"=>4312.203536006899, "low"=>4321.52117545376, "open"=>4314.063848144952, "volumefrom"=>5961605.81, "volumeto"=>1378.92, "close"=>4314.063848144952}, {"time"=>1506852000, "high"=>4314.063848144952, "low"=>4330.8791684712, "open"=>4314.063848144952, "volumefrom"=>4535063.1, "volumeto"=>1047.39, "close"=>4325.259515570934}, {"time"=>1506855600, "high"=>4317.789291882556, "low"=>4329.004329004329, "open"=>4325.259515570934, "volumefrom"=>6638642.5, "volumeto"=>1534.76, "close"=>4317.789291882556}, {"time"=>1506859200, "high"=>4273.504273504273, "low"=>4317.789291882556, "open"=>4317.789291882556, "volumefrom"=>22484833.19, "volumeto"=>5252.29, "close"=>4284.490145672665}, {"time"=>1506862800, "high"=>4258.943781942078, "low"=>4286.326618088298, "open"=>4284.490145672665, "volumefrom"=>16715037.33, "volumeto"=>3915.06, "close"=>4282.655246252676}, {"time"=>1506866400, "high"=>4277.15996578272, "low"=>4293.688278231, "open"=>4282.655246252676, "volumefrom"=>8144052.23, "volumeto"=>1897.58, "close"=>4293.688278231}, {"time"=>1506870000, "high"=>4282.655246252676, "low"=>4314.063848144952, "open"=>4293.688278231, "volumefrom"=>8223261.93, "volumeto"=>1911.99, "close"=>4310.3448275862065}, {"time"=>1506873600, "high"=>4308.487720809996, "low"=>4323.389537397319, "open"=>4310.3448275862065, "volumefrom"=>6360083.5, "volumeto"=>1471.37, "close"=>4310.3448275862065}, {"time"=>1506877200, "high"=>4293.688278231, "low"=>4314.063848144952, "open"=>4310.3448275862065, "volumefrom"=>6426378.59, "volumeto"=>1491.58, "close"=>4306.6322136089575}, {"time"=>1506880800, "high"=>4301.075268817204, "low"=>4321.52117545376, "open"=>4306.6322136089575, "volumefrom"=>5526564.59, "volumeto"=>1278.69, "close"=>4321.52117545376}, {"time"=>1506884400, "high"=>4317.789291882556, "low"=>4329.004329004329, "open"=>4321.52117545376, "volumefrom"=>6085634.88, "volumeto"=>1405.87, "close"=>4319.654427645789}, {"time"=>1506888000, "high"=>4315.9257660768235, "low"=>4336.513443191674, "open"=>4319.654427645789, "volumefrom"=>4834833.91, "volumeto"=>1116.06, "close"=>4351.610095735422}], "TimeTo"=>1506888000, "TimeFrom"=>1506456000, "FirstValueInArray"=>true, "ConversionType"=>{"type"=>"invert", "conversionSymbol"=>""}}

def getDateFromUnixDate(unixDate)
	# converts unixDate (String) and returns a friendly date (String)
	date = DateTime.strptime(unixDate, '%s')
	return date.strftime('%a, %b %d, %Y, %H:%M')
end

def coin_spot_price(fromSym, *toSyms)
	# fromSym: from symbol, as String
	# toSyms: to symbol, as multiple Strings
	# returns a hash / object literal, where each key (String)
	# returns a value that is equal to the number of fromSym per toSym

	# example, to go from US Dollars, to Bitcoin, Ethereum, and LiteCoint:
	# coin_spot_price('USD', 'BTC', 'ETH', 'LTC')
	# returns

	endpoint = "https://min-api.cryptocompare.com/data/price?"
	url = endpoint + "fsym=" + fromSym + "&tsyms=" + toSyms.join(",")

	return HTTParty.get(url).parsed_response

end

def prices(base_currency, *coins)
	hash_response = coin_spot_price(base_currency, coins)
	result = {}
	hash_response.each do |coin, val|
		result[coin] = 1/val
	end
	result
end


def price_hist(base_currency, num_days=30, *coins)

end

# puts prices('USD', 'BTC', 'ETH', 'LTC')

response["Data"].each do |x|
	puts "Time: #{getDateFromUnixDate(x["time"].to_s)}"
end
